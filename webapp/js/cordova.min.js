function createEvent(e,a){var t=document.createEvent("Events");if(t.initEvent(e,!1,!1),a)for(var n in a)a.hasOwnProperty(n)&&(t[n]=a[n]);return t}if(window.cordova&&!(window.cordova instanceof HTMLElement))throw new Error("cordova already defined");var channel=require("cordova/channel"),platform=require("cordova/platform"),m_document_addEventListener=document.addEventListener,m_document_removeEventListener=document.removeEventListener,m_window_addEventListener=window.addEventListener,m_window_removeEventListener=window.removeEventListener,documentEventHandlers={},windowEventHandlers={};document.addEventListener=function(e,a,t){var n=e.toLowerCase();"undefined"!=typeof documentEventHandlers[n]?documentEventHandlers[n].subscribe(a):m_document_addEventListener.call(document,e,a,t)},window.addEventListener=function(e,a,t){var n=e.toLowerCase();"undefined"!=typeof windowEventHandlers[n]?windowEventHandlers[n].subscribe(a):m_window_addEventListener.call(window,e,a,t)},document.removeEventListener=function(e,a,t){var n=e.toLowerCase();"undefined"!=typeof documentEventHandlers[n]?documentEventHandlers[n].unsubscribe(a):m_document_removeEventListener.call(document,e,a,t)},window.removeEventListener=function(e,a,t){var n=e.toLowerCase();"undefined"!=typeof windowEventHandlers[n]?windowEventHandlers[n].unsubscribe(a):m_window_removeEventListener.call(window,e,a,t)};var cordova={define:define,require:require,version:PLATFORM_VERSION_BUILD_LABEL,platformVersion:PLATFORM_VERSION_BUILD_LABEL,platformId:platform.id,addWindowEventHandler:function(e){return windowEventHandlers[e]=channel.create(e)},addStickyDocumentEventHandler:function(e){return documentEventHandlers[e]=channel.createSticky(e)},addDocumentEventHandler:function(e){return documentEventHandlers[e]=channel.create(e)},removeWindowEventHandler:function(e){delete windowEventHandlers[e]},removeDocumentEventHandler:function(e){delete documentEventHandlers[e]},getOriginalHandlers:function(){return{document:{addEventListener:m_document_addEventListener,removeEventListener:m_document_removeEventListener},window:{addEventListener:m_window_addEventListener,removeEventListener:m_window_removeEventListener}}},fireDocumentEvent:function(e,a,t){var n=createEvent(e,a);"undefined"!=typeof documentEventHandlers[e]?t?documentEventHandlers[e].fire(n):setTimeout(function(){"deviceready"==e&&document.dispatchEvent(n),documentEventHandlers[e].fire(n)},0):document.dispatchEvent(n)},fireWindowEvent:function(e,a){var t=createEvent(e,a);"undefined"!=typeof windowEventHandlers[e]?setTimeout(function(){windowEventHandlers[e].fire(t)},0):window.dispatchEvent(t)},callbackId:Math.floor(2e9*Math.random()),callbacks:{},callbackStatus:{NO_RESULT:0,OK:1,CLASS_NOT_FOUND_EXCEPTION:2,ILLEGAL_ACCESS_EXCEPTION:3,INSTANTIATION_EXCEPTION:4,MALFORMED_URL_EXCEPTION:5,IO_EXCEPTION:6,INVALID_ACTION:7,JSON_EXCEPTION:8,ERROR:9},callbackSuccess:function(e,a){cordova.callbackFromNative(e,!0,a.status,[a.message],a.keepCallback)},callbackError:function(e,a){cordova.callbackFromNative(e,!1,a.status,[a.message],a.keepCallback)},callbackFromNative:function(e,a,t,n,d){try{var i=cordova.callbacks[e];i&&(a&&t==cordova.callbackStatus.OK?i.success&&i.success.apply(null,n):a||i.fail&&i.fail.apply(null,n),d||delete cordova.callbacks[e])}catch(l){var o="Error in "+(a?"Success":"Error")+" callbackId: "+e+" : "+l;throw console&&console.log&&console.log(o),cordova.fireWindowEvent("cordovacallbackerror",{message:o}),l}},addConstructor:function(e){channel.onCordovaReady.subscribe(function(){try{e()}catch(a){console.log("Failed to run constructor: "+a)}})}};module.exports=cordova;